(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[6],{147:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),o=t(6),i=t(35),u=t(27),s=t(97),l=t(47),f=Object(l.a)((function(e){return e.users}),(function(e){var n=e.totalUsersCount,t=e.pageSize;return Math.ceil(n/t)})),m=function(e){return e.users},p=t(20),d=t(23),g=t.n(d),b=t(127),v=t(15);var h=function(e){var n=e.handler,t=e.disabledTrigger,a=e.icoId;return r.a.createElement("button",{className:"pagination__btn-item pagination__block",onClick:n,disabled:t},r.a.createElement("svg",{className:"pagination__btn-ico"},r.a.createElement("use",{href:v.a+a})))},w=r.a.memo((function(e){for(var n=e.pagesCount,t=e.currentPage,c=e.onPageChange,o=e.isLoading,i=e.visiblePartSize,u=void 0===i?10:i,s=Object(a.useState)(1),l=Object(p.a)(s,2),f=l[0],m=l[1],d=[],v=1;v<=n;v++)d.push(v);var w=Math.ceil(n/u),_=(f-1)*u+1,E=f*u;return r.a.createElement("ul",{className:"pagination"},r.a.createElement("div",{className:"pagination__btn-group"},f>1&&r.a.createElement(h,{handler:function(){m(1),c(1)},disabledTrigger:o,icoId:"#double-arrow"}),t>1&&r.a.createElement(h,{handler:function(){t<=_&&m(f-1),c(t-1)},disabledTrigger:o,icoId:"#arrow"})),d.filter((function(e){return e>=_&&e<=E})).map((function(e){return r.a.createElement("li",{key:e,className:g()("pagination__item","pagination__block",{active:t===e}),onClick:function(){return c(e)}},e)})),r.a.createElement("div",{className:"pagination__btn-group"},w>f&&r.a.createElement(h,{handler:function(){m(w),c((w-1)*u+1)},disabledTrigger:o,icoId:"#double-arrow"}),t<n&&r.a.createElement(h,{handler:function(){t>=E&&m(f+1),c(t+1)},disabledTrigger:o,icoId:"#arrow"})),d.length>10&&r.a.createElement(b.c,{initialValues:{currentPage:""},onSubmit:function(e,n){return function(e,n){var t=e.currentPage,a=n.resetForm,r=Math.ceil(t/u);t>=1&&r<=w&&(m(r),c(t),a())}(e,{resetForm:n.resetForm})}},(function(e){var n=e.values;return r.a.createElement(b.b,{className:"pagination__form"},r.a.createElement(b.a,{type:"number",name:"currentPage",className:"pagination__form-input",value:n.currentPage}),r.a.createElement("button",{className:"pagination__form-btn",disabled:o,type:"submit"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"))})))})),_=t(7),E=t(19),k=r.a.memo((function(e){var n=e.id,t=e.name,a=e.photos,c=e.followed,o=e.followingInProgress,i=e.onClickUnfollow,u=e.onClickFollow;return r.a.createElement("li",{className:"users__item block",key:n},r.a.createElement(_.c,{to:"/profile/".concat(n)},r.a.createElement("span",{className:"users__item-photo"},r.a.createElement("img",{src:a.large||E.a,alt:t})),r.a.createElement("span",{className:"users__item-name"},t)),r.a.createElement("button",{className:g()("btn",{"btn--unfollow":c,"btn--follow":!c}),onClick:c?function(){return i(n)}:function(){return u(n)},disabled:o.some((function(e){return e===n}))},c?"\u0412\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))}));n.default=Object(c.d)(i.a)((function(){var e=Object(o.b)(),n=Object(o.c)(m),t=n.items,c=n.pageSize,i=n.currentPage,l=n.isLoading,p=n.followingInProgress,d=Object(o.c)(f);Object(a.useEffect)((function(){e(Object(s.c)(i,c))}),[i]);var g=function(n){e(Object(s.a)(n))},b=function(n){e(Object(s.b)(n))};return r.a.createElement("div",{className:"users"},l&&r.a.createElement(u.a,null),r.a.createElement(w,{pagesCount:d,currentPage:i,onPageChange:function(n){e(Object(s.d)(n))},isLoading:l,visiblePagesSize:10}),r.a.createElement("ul",{className:"users__list"},t.map((function(e){var n=e.id,t=e.name,a=e.followed,c=e.photos;return r.a.createElement(k,{key:n,id:n,name:t,photos:c,followed:a,followingInProgress:p,onClickUnfollow:b,onClickFollow:g})}))))}))},97:function(e,n,t){"use strict";t.d(n,"d",(function(){return u})),t.d(n,"c",(function(){return f})),t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return d}));var a=t(5),r=t.n(a),c=t(10),o=t(14),i=t(2),u=function(e){return{type:i.h,payload:e}},s=function(e){return{type:i.i,payload:e}},l=function(e){return{type:i.t,payload:e}},f=function(e,n){return function(){var t=Object(c.a)(r.a.mark((function t(a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:i.n}),t.next=3,o.d.getUsers(e,n,null,!1);case 3:c=t.sent,a((r=c,{type:i.q,payload:r}));case 5:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){var e=Object(c.a)(r.a.mark((function e(n,t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:0===e.sent.resultCode&&n(l(t));case 4:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),p=function(e){return function(){var n=Object(c.a)(r.a.mark((function n(t){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(s({isFetching:!0,id:e})),m(t,e,o.d.followUser);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return function(){var n=Object(c.a)(r.a.mark((function n(t){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(s({isFetching:!0,id:e})),m(t,e,o.d.unfollowUser);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=6.14b5e92d.chunk.js.map