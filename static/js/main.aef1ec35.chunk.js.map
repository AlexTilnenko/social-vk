{"version":3,"sources":["assets/img/sprite.svg","api/api.js","actions/types.js","actions/auth.js","components/common/Loader/Loader.js","assets/img/user.png","components/hoc/withAuthRedirect.js","selectors/authSelectors.js","components/Header/Header.jsx","components/Navbar/Navbar.jsx","actions/profile.js","components/Profile/ProfileStatus/ProfileStatus.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","actions/posts.js","selectors/profileSelectors.js","components/Profile/Profile.jsx","components/hoc/withSuspense.js","App.js","actions/initialisation.js","reducers/profile.js","reducers/posts.js","reducers/messanger.js","reducers/users.js","reducers/auth.js","reducers/initialisation.js","reducers/index.js","store.js","index.js"],"names":["userInstance","axios","create","baseURL","withCredentials","headers","usersApi","getUsers","currentPage","pageSize","get","then","resp","data","followUser","userId","post","unfollowUser","delete","profileApi","getUserProfile","getUserStatus","putUserStatus","statusValue","put","status","authApi","getAuthUserData","login","password","rememberMe","captcha","email","logout","securityApi","getCaptchaUrl","url","SET_USERS","SET_CURRENT_PAGE","SET_LOADING","TOGGLE_FOLLOW_USER","SET_FOLLOWING","SET_PROFILE","SET_USER_STATUS","SET_POSTS","ADD_POST","DELETE_POST","TOGGLE_LIKE_POST","SET_ACTIVE_DIALOG","SEND_MESSAGE","CHANGE_NEW_MESSAGE","SET_AUTH_USER_DATA","SET_AUTH_CAPTCHA_URL","SET_INITIALIZED","setAuthUserData","isAuth","type","payload","fetchAuthUserData","dispatch","a","id","resultCode","loginData","onError","authCaptchaUrl","Loader","className","withAuthRedirect","Component","props","useSelector","state","auth","to","selectAuthUserId","selectAuthData","Header","React","memo","useDispatch","href","sprite","onClick","Navbar","setUserStatus","userStatus","ProfileStatus","myId","statusRef","useRef","useState","editStatus","setEditStatus","newStatus","setNewStatus","useEffect","document","body","addEventListener","outsideClickHandle","removeEventListener","trim","e","path","composedPath","includes","current","saveStatus","alert","ref","autoFocus","value","onChange","target","Post","avatar","onDeletePost","onLikePost","text","img","likeCount","liked","src","alt","MyPosts","posts","setValue","deletePost","likePost","placeholder","newPostValue","preventDefault","map","key","selectProfileData","profile","selectActivePosts","activePosts","compose","withRouter","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","photos","userProfileResp","profileData","userStatusResp","fetchUserProfile","match","params","github","rel","large","photoHolder","withSuspense","fallback","Messages","lazy","Users","Login","initialized","initialisation","exact","render","Profile","initialState","small","action","newStatusText","newPost","Date","now","filter","dialogs","name","messages","1","author","time","2","activeDialogId","newMessage","messanger","date","fullDate","getDate","getMonth","getFullYear","items","totalUsersCount","isLoading","followingInProgress","users","totalCount","user","followed","isFetching","captchaUrl","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.aef1ec35.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sprite.60e1bd12.svg\";","import axios from 'axios';\r\n\r\nexport const userInstance = axios.create({\r\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n   withCredentials: true,\r\n   headers: { 'API-KEY': '7000b236-bfb6-4f30-b175-37522e846b95' },\r\n});\r\n\r\nexport const usersApi = {\r\n   getUsers(currentPage, pageSize) {\r\n      return userInstance.get(`users?page=${currentPage}&count=${pageSize}`).then((resp) => resp.data);\r\n   },\r\n   followUser(userId) {\r\n      return userInstance.post(`follow/${userId}`).then((resp) => resp.data);\r\n   },\r\n   unfollowUser(userId) {\r\n      return userInstance.delete(`follow/${userId}`).then((resp) => resp.data);\r\n   },\r\n};\r\n\r\nexport const profileApi = {\r\n   getUserProfile(userId) {\r\n      return userInstance.get(`profile/${userId}`).then((resp) => resp.data);\r\n   },\r\n   getUserStatus(userId) {\r\n      return userInstance.get(`profile/status/${userId}`).then((resp) => resp.data);\r\n   },\r\n   putUserStatus(statusValue) {\r\n      return userInstance\r\n         .put(`profile/status`, {\r\n            status: `${statusValue}`,\r\n         })\r\n         .then((resp) => resp);\r\n   },\r\n};\r\n\r\nexport const authApi = {\r\n   getAuthUserData() {\r\n      return userInstance.get(`auth/me`).then((resp) => resp.data);\r\n   },\r\n   login({ login, password, rememberMe = false, captcha = false }) {\r\n      return userInstance.post('auth/login', { email: login, password, rememberMe, captcha }).then((resp) => resp.data);\r\n   },\r\n   logout() {\r\n      return userInstance.delete('auth/login').then((resp) => resp.data);\r\n   },\r\n};\r\n\r\nexport const securityApi = {\r\n   getCaptchaUrl() {\r\n      return userInstance.get('security/get-captcha-url').then((resp) => resp.data.url);\r\n   },\r\n};\r\n","//users\r\nexport const SET_USERS = 'SET_USERS';\r\nexport const SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nexport const SET_LOADING = 'SET_LOADING';\r\nexport const TOGGLE_FOLLOW_USER = 'TOGGLE_FOLLOW_USER';\r\nexport const SET_FOLLOWING = 'SET_FOLLOWING';\r\n\r\n//profile\r\nexport const SET_PROFILE = 'SET_PROFILE';\r\nexport const SET_USER_STATUS = 'SET_USER_STATUS';\r\n\r\n//posts\r\nexport const SET_POSTS = 'SET_POSTS';\r\nexport const ADD_POST = 'ADD_POST';\r\nexport const DELETE_POST = 'DELETE_POST';\r\nexport const TOGGLE_LIKE_POST = 'TOGGLE_LIKE_POST';\r\n\r\n//messanger\r\nexport const SET_ACTIVE_DIALOG = 'SET_ACTIVE_DIALOG';\r\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\r\nexport const CHANGE_NEW_MESSAGE = 'CHANGE_NEW_MESSAGE';\r\n\r\n//auth\r\nexport const SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA';\r\nexport const SET_AUTH_CAPTCHA_URL = 'SET_AUTH_CAPTCHA_URL';\r\n\r\n//initialized\r\nexport const SET_INITIALIZED = 'SET_INITIALIZED';\r\n","import { authApi, securityApi } from '../api/api';\r\nimport { SET_AUTH_USER_DATA, SET_AUTH_CAPTCHA_URL } from './types';\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n   type: SET_AUTH_USER_DATA,\r\n   payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const setAuthCaptchaUrl = (authCaptchaUrl) => ({\r\n   type: SET_AUTH_CAPTCHA_URL,\r\n   payload: authCaptchaUrl,\r\n});\r\n\r\nexport const fetchAuthCaptchaUrl = () => async (dispatch) => {\r\n   const resp = await securityApi.getCaptchaUrl();\r\n   dispatch(setAuthCaptchaUrl(resp));\r\n};\r\n\r\nexport const fetchAuthUserData = () => async (dispatch) => {\r\n   const resp = await authApi.getAuthUserData();\r\n   const { id, email, login } = resp.data;\r\n   dispatch(setAuthUserData(id, email, login, resp.resultCode === 0 ? true : false));\r\n};\r\n\r\nexport const login = (loginData, onError) => async (dispatch) => {\r\n   const resp = await authApi.login(loginData);\r\n   switch (resp.resultCode) {\r\n      case 0:\r\n         dispatch(fetchAuthUserData());\r\n         break;\r\n      case 1:\r\n         onError('Неверный логин или пароль!');\r\n         break;\r\n      case 10:\r\n         dispatch(fetchAuthCaptchaUrl());\r\n         break;\r\n      default:\r\n         onError('Что-то пошло не так...');\r\n   }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n   const resp = await authApi.logout();\r\n   if (resp.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n   }\r\n};\r\n","import React from 'react';\r\n\r\nfunction Loader() {\r\n   return (\r\n      <div className=\"spinner\">\r\n         <div className=\"loadingio-spinner-spin-xyau1cuxpv\">\r\n            <div className=\"ldio-uqseqks461j\">\r\n               <div>\r\n                  <div></div>\r\n               </div>\r\n               <div>\r\n                  <div></div>\r\n               </div>\r\n               <div>\r\n                  <div></div>\r\n               </div>\r\n               <div>\r\n                  <div></div>\r\n               </div>\r\n               <div>\r\n                  <div></div>\r\n               </div>\r\n               <div>\r\n                  <div></div>\r\n               </div>\r\n               <div>\r\n                  <div></div>\r\n               </div>\r\n               <div>\r\n                  <div></div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default Loader;\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst withAuthRedirect = (Component) => {\r\n   return function RedirectComponent(props) {\r\n      const isAuth = useSelector((state) => state.auth.isAuth);\r\n\r\n      if (!isAuth) return <Redirect to=\"/login\" />;\r\n\r\n      return <Component {...props} />;\r\n   };\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","// import { createSelector } from 'reselect';\r\n\r\nexport const selectAuthUserId = (state) => state.auth.userId;\r\nexport const selectAuthData = (state) => state.auth;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { logout } from '../../actions/auth';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport sprite from '../../assets/img/sprite.svg';\r\n\r\nconst Header = React.memo(function Header() {\r\n   const dispatch = useDispatch();\r\n   const { login, isAuth } = useSelector((state) => state.auth);\r\n\r\n   const logoutHandle = () => {\r\n      dispatch(logout());\r\n   };\r\n   return (\r\n      <header className=\"header\">\r\n         <div className=\"container header-container\">\r\n            <Link to=\"/profile\" className=\"header__logo\">\r\n               <svg>\r\n                  <use href={sprite + '#logo'}></use>\r\n               </svg>\r\n            </Link>\r\n            {isAuth && (\r\n               <div className=\"header__auth\">\r\n                  <span>{login}</span>\r\n                  <button className=\"btn btn--logout\" type=\"button\" onClick={logoutHandle}>\r\n                     Выйти\r\n                  </button>\r\n               </div>\r\n            )}\r\n         </div>\r\n      </header>\r\n   );\r\n});\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport sprite from '../../assets/img/sprite.svg';\r\n\r\nfunction Navbar() {\r\n   return (\r\n      <nav className=\"navbar\">\r\n         <ul className=\"navbar__list\">\r\n            <li className=\"navbar__list-item\">\r\n               <Link to=\"/profile\" className=\"navbar__list-link\">\r\n                  <svg className=\"navbar__list-ico\">\r\n                     <use href={sprite + '#home'} />\r\n                  </svg>\r\n                  <span>Моя страница</span>\r\n               </Link>\r\n            </li>\r\n            <li className=\"navbar__list-item\">\r\n               <Link to=\"/messanger\" className=\"navbar__list-link\">\r\n                  <svg className=\"navbar__list-ico\">\r\n                     <use href={sprite + '#messages'} />\r\n                  </svg>\r\n                  <span>Сообщения</span>\r\n               </Link>\r\n            </li>\r\n            <li className=\"navbar__list-item\">\r\n               <Link to=\"/users\" className=\"navbar__list-link\">\r\n                  <svg className=\"navbar__list-ico\">\r\n                     <use href={sprite + '#users'} />\r\n                  </svg>\r\n                  <span>Пользователи</span>\r\n               </Link>\r\n            </li>\r\n            <li className=\"navbar__list-item\">\r\n               <a href=\"/\" className=\"navbar__list-link\">\r\n                  <svg className=\"navbar__list-ico\">\r\n                     <use href={sprite + '#news'} />\r\n                  </svg>\r\n                  <span>Новости</span>\r\n               </a>\r\n            </li>\r\n            <li className=\"navbar__list-item\">\r\n               <a href=\"/\" className=\"navbar__list-link\">\r\n                  <svg className=\"navbar__list-ico\">\r\n                     <use href={sprite + '#music'} />\r\n                  </svg>\r\n                  <span>Музыка</span>\r\n               </a>\r\n            </li>\r\n            <li className=\"navbar__list-item\">\r\n               <a href=\"/\" className=\"navbar__list-link\">\r\n                  <svg className=\"navbar__list-ico\">\r\n                     <use href={sprite + '#settings'} />\r\n                  </svg>\r\n                  <span>Настройки</span>\r\n               </a>\r\n            </li>\r\n         </ul>\r\n      </nav>\r\n   );\r\n}\r\n\r\nexport default Navbar;\r\n","import { profileApi } from '../api/api';\r\nimport { SET_PROFILE, SET_USER_STATUS } from './types';\r\n\r\nexport const setProfile = (profileData) => ({\r\n   type: SET_PROFILE,\r\n   payload: profileData,\r\n});\r\n\r\nexport const setUserStatus = (userStatus) => ({\r\n   type: SET_USER_STATUS,\r\n   payload: userStatus,\r\n});\r\n\r\nexport const fetchUserProfile = (userId) => async (dispatch) => {\r\n   const userProfileResp = await profileApi.getUserProfile(userId);\r\n   dispatch(setProfile(userProfileResp));\r\n   const userStatusResp = await profileApi.getUserStatus(userId);\r\n   dispatch(setUserStatus(userStatusResp));\r\n};\r\n\r\nexport const updateUserStatus = (statusValue) => async (dispatch) => {\r\n   const resp = await profileApi.putUserStatus(statusValue);\r\n   if (resp.data.resultCode === 0) {\r\n      dispatch(setUserStatus(statusValue));\r\n   }\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateUserStatus } from '../../../actions/profile';\r\n\r\nconst ProfileStatus = React.memo(function ProfileStatus({ status, userId, myId }) {\r\n   const dispatch = useDispatch();\r\n   const statusRef = useRef();\r\n\r\n   const [editStatus, setEditStatus] = useState(false);\r\n   const [newStatus, setNewStatus] = useState(status);\r\n\r\n   useEffect(() => {\r\n      document.body.addEventListener('mousedown', outsideClickHandle);\r\n      return () => {\r\n         document.body.removeEventListener('mousedown', outsideClickHandle);\r\n      };\r\n   }, []);\r\n\r\n   useEffect(() => {\r\n      if (status !== newStatus) {\r\n         setNewStatus(status.trim());\r\n      }\r\n   }, [status]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n   const outsideClickHandle = (e) => {\r\n      const path = e.path || (e.composedPath && e.composedPath());\r\n      if (!path.includes(statusRef.current)) {\r\n         setEditStatus(false);\r\n      }\r\n   };\r\n\r\n   const saveStatus = (newStatus) => {\r\n      if (newStatus) {\r\n         if (newStatus !== status) {\r\n            dispatch(updateUserStatus(newStatus));\r\n         }\r\n         setEditStatus(false);\r\n      } else {\r\n         alert('Введите текст статуса!');\r\n      }\r\n   };\r\n\r\n   const onStatusChange = (e) => {\r\n      setNewStatus(e.target.value);\r\n   };\r\n\r\n   return (\r\n      <div className=\"profile-status\">\r\n         {userId === myId ? (\r\n            !editStatus ? (\r\n               <div className=\"profile-status__label\" onClick={() => setEditStatus(true)}>\r\n                  {status || 'Нажмите что бы добавить статус'}\r\n               </div>\r\n            ) : (\r\n               <div className=\"profile-status__edit\" ref={statusRef}>\r\n                  <div className=\"profile-status__title\">Введите текст нового статуса</div>\r\n                  <input\r\n                     autoFocus\r\n                     type=\"text\"\r\n                     className=\"profile-status__input\"\r\n                     value={newStatus}\r\n                     onChange={onStatusChange}\r\n                  />\r\n                  <button className=\"btn btn--status-save\" onClick={() => saveStatus(newStatus)}>\r\n                     Сохранить\r\n                  </button>\r\n               </div>\r\n            )\r\n         ) : (\r\n            <div className=\"profile-status__label\">{status}</div>\r\n         )}\r\n      </div>\r\n   );\r\n});\r\n\r\nProfileStatus.propTypes = {\r\n   status: PropTypes.string,\r\n   userId: PropTypes.number,\r\n   myId: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default ProfileStatus;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport sprite from '../../../../assets/img/sprite.svg';\r\n\r\n// const Post = React.memo(\r\nfunction Post({ post, avatar, onDeletePost, onLikePost }) {\r\n   const { id, text, img, likeCount, liked } = post;\r\n   return (\r\n      <div className=\"block post\">\r\n         <div className=\"post__author avatar\">\r\n            <img src={avatar} alt=\"Alex\" />\r\n         </div>\r\n         <div className=\"post__body\">\r\n            <div className=\"post__text\">{text}</div>\r\n            {post.img && (\r\n               <div className=\"post__img\">\r\n                  <img src={img} alt={text} />\r\n               </div>\r\n            )}\r\n         </div>\r\n         <button className=\"btn btn--like\" onClick={() => onLikePost(id)}>\r\n            <span>{likeCount}&nbsp;</span>\r\n            <svg className={liked ? 'liked' : ''}>\r\n               <use href={sprite + '#like'} />\r\n            </svg>\r\n         </button>\r\n\r\n         <button className=\"btn btn--remove-post\" onClick={() => onDeletePost(id)}>\r\n            <svg>\r\n               <use href={sprite + '#trash'} />\r\n            </svg>\r\n         </button>\r\n      </div>\r\n   );\r\n}\r\n// );\r\n\r\nPost.propTypes = {\r\n   post: PropTypes.object.isRequired,\r\n   avatar: PropTypes.string,\r\n   onDeletePost: PropTypes.func.isRequired,\r\n   onLikePost: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState } from 'react';\r\nimport Post from './Post/Post';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addPost, deletePost, likePost } from '../../../actions/posts';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst MyPosts = React.memo(function MyPosts({ posts, avatar }) {\r\n   const dispatch = useDispatch();\r\n\r\n   const [value, setValue] = useState('');\r\n\r\n   const updateValue = (e) => {\r\n      setValue(e.target.value);\r\n   };\r\n\r\n   const onAddPost = (e) => {\r\n      e.preventDefault();\r\n      if (value.trim()) {\r\n         dispatch(addPost(value));\r\n         setValue('');\r\n      } else {\r\n         alert('Введите текст!');\r\n      }\r\n   };\r\n\r\n   const onDeletePost = (id) => {\r\n      dispatch(deletePost(id));\r\n   };\r\n\r\n   const onLikePost = (id) => {\r\n      dispatch(likePost(id));\r\n   };\r\n\r\n   return (\r\n      <div className=\"my-posts\">\r\n         <form className=\"block add-form\">\r\n            <input\r\n               className=\"add-form-field\"\r\n               type=\"text\"\r\n               placeholder=\"Что у Вас нового?\"\r\n               onChange={updateValue}\r\n               value={value}\r\n            />\r\n            <button className=\"btn btn--add-form\" onClick={onAddPost}>\r\n               Добавить\r\n            </button>\r\n         </form>\r\n         {posts.map((post) => {\r\n            return (\r\n               <Post post={post} avatar={avatar} key={post.id} onDeletePost={onDeletePost} onLikePost={onLikePost} />\r\n            );\r\n         })}\r\n      </div>\r\n   );\r\n});\r\n\r\nMyPosts.propTypes = {\r\n   posts: PropTypes.array.isRequired,\r\n   avatar: PropTypes.string,\r\n};\r\n\r\nexport default MyPosts;\r\n","import { SET_POSTS, ADD_POST, DELETE_POST, TOGGLE_LIKE_POST } from './types';\r\n\r\nexport const setPosts = (posts) => ({\r\n   type: SET_POSTS,\r\n   payload: posts,\r\n});\r\n\r\nexport const addPost = (newPostValue) => ({\r\n   type: ADD_POST,\r\n   payload: newPostValue,\r\n});\r\n\r\nexport const deletePost = (id) => ({\r\n   type: DELETE_POST,\r\n   payload: id,\r\n});\r\n\r\nexport const likePost = (id) => ({\r\n   type: TOGGLE_LIKE_POST,\r\n   payload: id,\r\n});\r\n","// import { createSelector } from 'reselect';\r\n\r\nexport const selectProfileData = (state) => state.profile;\r\nexport const selectActivePosts = (state) => state.posts.activePosts;\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { compose } from 'redux';\r\nimport { fetchUserProfile } from '../../actions/profile';\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus';\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport withAuthRedirect from '../hoc/withAuthRedirect';\r\nimport { selectProfileData, selectActivePosts } from '../../selectors/profileSelectors';\r\nimport { selectAuthUserId } from '../../selectors/authSelectors';\r\n\r\nimport photoHolder from '../../assets/img/user.png';\r\nfunction Profile(props) {\r\n   const dispatch = useDispatch();\r\n   const {\r\n      userId,\r\n      fullName,\r\n      aboutMe,\r\n      lookingForAJob,\r\n      lookingForAJobDescription,\r\n      contacts,\r\n      photos,\r\n      status,\r\n   } = useSelector(selectProfileData);\r\n\r\n   const posts = useSelector(selectActivePosts);\r\n   const myId = useSelector(selectAuthUserId);\r\n\r\n   useEffect(() => {\r\n      dispatch(fetchUserProfile(props.match.params.userId || myId));\r\n   }, [props.match.params.userId]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n   return (\r\n      <div className=\"profile\">\r\n         <div className=\"profile__header\">\r\n            <div className=\"block profile__info\">\r\n               <ul className=\"profile__info-list\">\r\n                  <li className=\"profile__info-item profile__info--name\">{fullName}</li>\r\n                  <li className=\"profile__info-item\">\r\n                     <ProfileStatus status={status} userId={userId} myId={myId} />\r\n                  </li>\r\n                  <li className=\"profile__info-item\">\r\n                     <span>Обо мне:</span>\r\n                     {aboutMe || 'Изучаю React'}\r\n                  </li>\r\n                  <li className=\"profile__info-item\">{lookingForAJob ? 'В поисках работы' : 'Работаю в Google'}</li>\r\n                  <li className=\"profile__info-item\">\r\n                     <span>Stack:</span>\r\n                     {lookingForAJobDescription || 'React, Redux, Hooks, axios, classnames, React thunk'}\r\n                  </li>\r\n                  <li className=\"profile__info-item\">\r\n                     <span>Контакты:</span>\r\n                     <a href={contacts.github && `${contacts.github}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n                        {contacts.github || 'не сижу в соц.сетях'}\r\n                     </a>\r\n                  </li>\r\n               </ul>\r\n            </div>\r\n            <div className=\"block profile__photo\">\r\n               <img src={photos.large || photoHolder} alt={fullName} />\r\n            </div>\r\n         </div>\r\n\r\n         <MyPosts posts={posts} avatar={photos.large || photoHolder} />\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default compose(withRouter, withAuthRedirect)(Profile);\r\n","import React, { Suspense } from 'react';\r\nimport Loader from '../common/Loader/Loader';\r\n\r\nconst withSuspense = (Component) => {\r\n   return (props) => {\r\n      return (\r\n         <Suspense fallback={<Loader />}>\r\n            <Component {...props} />\r\n         </Suspense>\r\n      );\r\n   };\r\n};\r\n\r\nexport default withSuspense;\r\n","import React, { useEffect } from 'react';\r\nimport { Redirect, Route, withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Header from './components/Header/Header';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Profile from './components/Profile/Profile';\r\nimport { initialize } from './actions/initialisation';\r\nimport Loader from './components/common/Loader/Loader';\r\nimport withSuspense from './components/hoc/withSuspense';\r\nconst Messages = React.lazy(() => import('./components/Messages/Messages'));\r\nconst Users = React.lazy(() => import('./components/Users/Users'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'));\r\n\r\nfunction App() {\r\n   const dispatch = useDispatch();\r\n   const initialized = useSelector((state) => state.initialisation.initialized);\r\n   useEffect(() => {\r\n      dispatch(initialize());\r\n   }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n   if (!initialized) {\r\n      return (\r\n         <div className=\"App\">\r\n            <div className=\"main-wrapper\">\r\n               <Loader />\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n\r\n   return (\r\n      <div className=\"App\">\r\n         <div className=\"main-wrapper\">\r\n            <Header />\r\n\r\n            <div className=\"container main-container\">\r\n               <Navbar />\r\n               <Route path=\"/\" exact>\r\n                  <Redirect to=\"/profile\" />\r\n               </Route>\r\n               <Route path=\"/profile/:userId?\" render={Profile} />\r\n               <Route path=\"/messanger\" exact render={withSuspense(Messages)} />\r\n               <Route path=\"/users\" exact render={withSuspense(Users)} />\r\n               <Route path=\"/login\" exact render={withSuspense(Login)} />\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default compose(withRouter)(App);\r\n","import { fetchAuthUserData } from './auth';\r\nimport { SET_INITIALIZED } from './types';\r\n\r\n\r\nexport const setInitialized = () => ({\r\n   type: SET_INITIALIZED,\r\n});\r\n\r\nexport const initialize = () => async (dispatch) => {\r\n   await dispatch(fetchAuthUserData());\r\n   dispatch(setInitialized());\r\n}","import { SET_PROFILE, SET_USER_STATUS } from '../actions/types';\r\n\r\nexport const initialState = {\r\n   userId: null,\r\n   aboutMe: null,\r\n   photos: {\r\n      small: null,\r\n      large: null,\r\n   },\r\n   fullName: null,\r\n   lookingForAJob: null,\r\n   lookingForAJobDescription: null,\r\n   contacts: {\r\n      github: null,\r\n   },\r\n   status: '',\r\n};\r\n\r\nconst profile = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case SET_PROFILE:\r\n         return {\r\n            ...state,\r\n            ...action.payload,\r\n         };\r\n      case SET_USER_STATUS: {\r\n         const newStatusText = action.payload ? action.payload.trim() : '';\r\n         return {\r\n            ...state,\r\n            status: newStatusText,\r\n         };\r\n      }\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default profile;\r\n","import {SET_POSTS, ADD_POST, DELETE_POST, TOGGLE_LIKE_POST} from '../actions/types';\r\n\r\nconst initialState = {\r\n   activePosts: [\r\n      {\r\n         id: 1,\r\n         text: 'Some interesting post',\r\n         likeCount: 0,\r\n         liked: false\r\n      },\r\n      {\r\n         id: 2,\r\n         text: 'Some post about pandas',\r\n         likeCount: 1,\r\n         liked: true\r\n      }\r\n   ]\r\n}\r\n\r\nconst posts = (state = initialState, action) => {\r\n   switch(action.type) {\r\n      case SET_POSTS:\r\n         return state;\r\n      case ADD_POST:\r\n         const newPost = {\r\n            id: Date.now(),\r\n            text: action.payload,\r\n            likeCount: 0,\r\n            liked: false,\r\n         };\r\n         return {\r\n            ...state,\r\n            activePosts: [newPost, ...state.activePosts],\r\n\r\n         }\r\n      case DELETE_POST:{\r\n         return {\r\n            ...state,\r\n            activePosts: state.activePosts.filter(post => post.id !== action.payload )\r\n         }\r\n      }\r\n      case TOGGLE_LIKE_POST:{\r\n         return {\r\n            ...state,\r\n            activePosts: state.activePosts.map(post => {\r\n               if (post.id === action.payload && !post.liked) {\r\n                  return {\r\n                     ...post,\r\n                     likeCount: ++post.likeCount,\r\n                     liked: true\r\n                  }\r\n               } else if (post.id === action.payload && post.liked) {\r\n                  return {\r\n                     ...post,\r\n                     likeCount: --post.likeCount,\r\n                     liked: false\r\n                  } \r\n               } else {\r\n                  return post;\r\n               }\r\n            })\r\n         }\r\n      }\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\nexport default posts;","import { SET_ACTIVE_DIALOG, SEND_MESSAGE, CHANGE_NEW_MESSAGE } from '../actions/types';\r\n\r\nconst initialState = {\r\n   dialogs: [\r\n      { id: 1, name: 'Sasha' },\r\n      { id: 2, name: 'Masha' },\r\n   ],\r\n   messages: {\r\n      1: [\r\n         {\r\n            id: 1423342,\r\n            author: 'Sasha',\r\n            time: '14.10.2020',\r\n            text: 'Привет',\r\n         },\r\n         {\r\n            id: 2,\r\n            author: 'Александр',\r\n            time: '15.10.2020',\r\n            text: 'Привет, как дела?',\r\n         },\r\n      ],\r\n      2: [\r\n         {\r\n            id: 1345,\r\n            author: 'Masha',\r\n            time: '14.10.2020',\r\n            text: 'Привет',\r\n         },\r\n         {\r\n            id: 23242,\r\n            author: 'Александр',\r\n            time: '16.10.2020',\r\n            text: 'Привет, здорово что ты пользуешься моей соц. сетью.',\r\n         },\r\n      ],\r\n   },\r\n   activeDialogId: 1,\r\n   newMessage: '',\r\n};\r\n\r\nconst messanger = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case SET_ACTIVE_DIALOG:\r\n         return {\r\n            ...state,\r\n            activeDialogId: action.payload,\r\n         };\r\n      case SEND_MESSAGE:\r\n         const date = new Date();\r\n         const fullDate = date.getDate() + '.' + date.getMonth() + '.' + date.getFullYear();\r\n         const newMessage = {\r\n            id: Date.now(),\r\n            author: 'Александр',\r\n            time: fullDate,\r\n            text: state.newMessage,\r\n         };\r\n         return {\r\n            ...state,\r\n            messages: {\r\n               ...state.messages,\r\n               [state.activeDialogId]: [...state.messages[state.activeDialogId], newMessage],\r\n            },\r\n            newMessage: '',\r\n         };\r\n      case CHANGE_NEW_MESSAGE:\r\n         return {\r\n            ...state,\r\n            newMessage: action.payload,\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default messanger;\r\n","import { SET_USERS, SET_CURRENT_PAGE, SET_LOADING, TOGGLE_FOLLOW_USER, SET_FOLLOWING } from '../actions/types';\r\n\r\nexport const initialState = {\r\n   items: [],\r\n   pageSize: 24,\r\n   totalUsersCount: 0,\r\n   currentPage: 1,\r\n   isLoading: null,\r\n   followingInProgress: [],\r\n};\r\n\r\nconst users = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case SET_USERS:\r\n         if (action.payload) {\r\n            return {\r\n               ...state,\r\n               items: action.payload.items,\r\n               totalUsersCount: action.payload.totalCount,\r\n               isLoading: false,\r\n            };\r\n         }\r\n         return state;\r\n      case SET_CURRENT_PAGE:\r\n         return {\r\n            ...state,\r\n            currentPage: action.payload || state.currentPage,\r\n            isLoading: false,\r\n         };\r\n      case TOGGLE_FOLLOW_USER:\r\n         return {\r\n            ...state,\r\n            items: state.items.map((user) => {\r\n               return user.id === action.payload ? { ...user, followed: !user.followed } : user;\r\n            }),\r\n            followingInProgress: state.followingInProgress.filter((id) => id !== action.payload),\r\n         };\r\n\r\n      case SET_LOADING:\r\n         return {\r\n            ...state,\r\n            isLoading: true,\r\n         };\r\n      case SET_FOLLOWING:\r\n         return {\r\n            ...state,\r\n            followingInProgress: action.payload.isFetching && [...state.followingInProgress, action.payload.id],\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default users;\r\n","import { SET_AUTH_USER_DATA, SET_AUTH_CAPTCHA_URL } from '../actions/types';\r\n\r\nexport const initialState = {\r\n   userId: null,\r\n   email: null,\r\n   login: null,\r\n   isAuth: false,\r\n   captchaUrl: '',\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case SET_AUTH_USER_DATA:\r\n         return {\r\n            ...state,\r\n            ...action.payload,\r\n            captchaUrl: '',\r\n         };\r\n      case SET_AUTH_CAPTCHA_URL:\r\n         return {\r\n            ...state,\r\n            captchaUrl: action.payload ? action.payload : '',\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default auth;\r\n","import { SET_INITIALIZED } from '../actions/types';\r\n\r\nexport const initialState = {\r\n   initialized: false,\r\n};\r\n\r\nconst initialisation = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case SET_INITIALIZED:\r\n         return {\r\n            ...state,\r\n            initialized: true,\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default initialisation;\r\n","import { combineReducers } from 'redux'\r\n\r\nimport profile from './profile';\r\nimport posts from './posts';\r\nimport messanger from './messanger';\r\nimport users from './users';\r\nimport auth from './auth';\r\nimport initialisation from './initialisation';\r\n\r\nconst rootReducer = combineReducers({\r\n   profile,\r\n   posts,\r\n   messanger,\r\n   users,\r\n   auth,\r\n   initialisation,\r\n});\r\n\r\nexport default rootReducer;","import {createStore, compose, applyMiddleware}  from 'redux';\r\nimport rootReducer from './reducers/index';\r\nimport thunk from 'redux-thunk'; \r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nimport './scss/main.scss';\r\n\r\nReactDOM.render(\r\n   <React.StrictMode>\r\n      <Provider store={store}>\r\n         <HashRouter basename={process.env.PUBLIC_URL}>\r\n            <App />\r\n         </HashRouter>\r\n      </Provider>\r\n   </React.StrictMode>,\r\n   document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}