(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[4],{124:function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},125:function(t,n,e){var r=e(138),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();t.exports=c},126:function(t,n,e){var r=e(125).Symbol;t.exports=r},136:function(t,n,e){var r=e(124),o=e(137),c=e(139),i=Math.max,u=Math.min;t.exports=function(t,n,e){var a,f,s,l,p,v,d=0,b=!1,m=!1,j=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(n){var e=a,r=f;return a=f=void 0,d=n,l=t.apply(r,e)}function h(t){return d=t,p=setTimeout(g,n),b?y(t):l}function O(t){var e=t-v;return void 0===v||e>=n||e<0||m&&t-d>=s}function g(){var t=o();if(O(t))return x(t);p=setTimeout(g,function(t){var e=n-(t-v);return m?u(e,s-(t-d)):e}(t))}function x(t){return p=void 0,j&&a?y(t):(a=f=void 0,l)}function w(){var t=o(),e=O(t);if(a=arguments,f=this,v=t,e){if(void 0===p)return h(v);if(m)return clearTimeout(p),p=setTimeout(g,n),y(v)}return void 0===p&&(p=setTimeout(g,n)),l}return n=c(n)||0,r(e)&&(b=!!e.leading,s=(m="maxWait"in e)?i(c(e.maxWait)||0,n):s,j="trailing"in e?!!e.trailing:j),w.cancel=function(){void 0!==p&&clearTimeout(p),d=0,a=v=f=p=void 0},w.flush=function(){return void 0===p?l:x(o())},w}},137:function(t,n,e){var r=e(125);t.exports=function(){return r.Date.now()}},138:function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e(34))},139:function(t,n,e){var r=e(124),o=e(140),c=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=r(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var e=u.test(t);return e||a.test(t)?f(t.slice(2),e?2:8):i.test(t)?NaN:+t}},140:function(t,n,e){var r=e(141),o=e(144);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},141:function(t,n,e){var r=e(126),o=e(142),c=e(143),i=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?o(t):c(t)}},142:function(t,n,e){var r=e(126),o=Object.prototype,c=o.hasOwnProperty,i=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var n=c.call(t,u),e=t[u];try{t[u]=void 0;var r=!0}catch(a){}var o=i.call(t);return r&&(n?t[u]=e:delete t[u]),o}},143:function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},144:function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},146:function(t,n,e){"use strict";e.r(n);var r=e(17),o=e(20),c=e(0),i=e.n(c),u=e(6),a=e(53),f=(e(46),e(45),e(97)),s=e(136),l=e.n(s),p=e(14);n.default=function(){var t=Object(u.b)(),n=Object(c.useState)([]),e=Object(o.a)(n,2),s=e[0],v=e[1],d=Object(c.useState)(1),b=Object(o.a)(d,2),m=b[0],j=b[1],y=Object(c.useState)(!0),h=Object(o.a)(y,2),O=h[0],g=h[1],x=Object(c.useState)(0),w=Object(o.a)(x,2),E=w[0],k=w[1];Object(c.useEffect)((function(){O&&(console.log("fetch"),p.d.getUsers(m,10,null,!0).then((function(t){v([].concat(Object(r.a)(s),Object(r.a)(t.items))),j((function(t){return t+1})),k(t.totalCount)})).finally((function(){return g(!1)})))}),[O]);var S=l()((function(t){t.target.documentElement.scrollHeight-(t.target.documentElement.scrollTop+window.innerHeight)<=150&&E>s.length&&g(!0)}),50);Object(c.useEffect)((function(){return console.log("listener in"),document.addEventListener("scroll",S),function(){console.log("listener out"),document.removeEventListener("scroll",S)}}),[S]);var T=function(n){t(Object(f.a)(n))},N=function(n){t(Object(f.b)(n))};return i.a.createElement("div",{className:"friends block"},i.a.createElement("div",{className:"friends__header"},i.a.createElement("div",{className:"friends__count"},"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 ",E)),s.map((function(t,n){var e=t.name,r=t.id,o=t.photos,c=t.status,u=t.followed;return i.a.createElement(a.a,{key:"".concat(e,"_").concat(n),img:o.large,name:e,id:r,status:c,followed:u,onClickFollow:T,onClickUnfollow:N})})))}},97:function(t,n,e){"use strict";e.d(n,"d",(function(){return a})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return v})),e.d(n,"b",(function(){return d}));var r=e(5),o=e.n(r),c=e(10),i=e(14),u=e(2),a=function(t){return{type:u.h,payload:t}},f=function(t){return{type:u.i,payload:t}},s=function(t){return{type:u.t,payload:t}},l=function(t,n){return function(){var e=Object(c.a)(o.a.mark((function e(r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:u.n}),e.next=3,i.d.getUsers(t,n,null,!1);case 3:c=e.sent,r((o=c,{type:u.q,payload:o}));case 5:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(){var t=Object(c.a)(o.a.mark((function t(n,e,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e);case 2:0===t.sent.resultCode&&n(s(e));case 4:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),v=function(t){return function(){var n=Object(c.a)(o.a.mark((function n(e){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(f({isFetching:!0,id:t})),p(e,t,i.d.followUser);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},d=function(t){return function(){var n=Object(c.a)(o.a.mark((function n(e){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(f({isFetching:!0,id:t})),p(e,t,i.d.unfollowUser);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=4.f99a8114.chunk.js.map