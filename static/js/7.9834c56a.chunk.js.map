{"version":3,"sources":["actions/users.js","../node_modules/reselect/es/index.js","selectors/usersSelectors.js","components/common/Pagination/NavButton.jsx","components/common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx"],"names":["setFollowingProgress","data","type","SET_FOLLOWING","payload","toggleFollow","id","TOGGLE_FOLLOW_USER","followUnfollowFlow","dispatch","apiMethod","a","resultCode","defaultEqualityCheck","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","i","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","map","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","push","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","selectUserPagesCount","state","users","totalUsersCount","pageSize","Math","ceil","selectUsersData","NavButton","handler","disabledTrigger","icoId","className","onClick","disabled","href","sprite","Pagination","React","memo","pagesCount","currentPage","onPageChange","isLoading","visiblePartSize","useState","visiblePartNumber","setVisiblePartNumber","pages","visiblePartsCount","leftBorder","rightBorder","filter","page","key","classNames","active","initialValues","onSubmit","values","resetForm","currentPartNumber","goToPageHandler","name","value","User","photos","followed","followingInProgress","onClickUnfollow","onClickFollow","to","src","large","photoHolder","alt","some","item","compose","withAuthRedirect","useDispatch","useSelector","items","useEffect","SET_LOADING","usersApi","getUsers","resp","usersData","SET_USERS","fetchUsers","isFetching","followUser","fetchFollow","unfollowUser","fetchUnfollow","Loader","SET_CURRENT_PAGE","setCurrentPage","visiblePagesSize"],"mappings":"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","file":"static/js/7.9834c56a.chunk.js","sourcesContent":["import { usersApi } from '../api/api';\r\n\r\nimport { SET_USERS, SET_CURRENT_PAGE, SET_LOADING, TOGGLE_FOLLOW_USER, SET_FOLLOWING } from './types';\r\n\r\nexport const setUsers = (usersData) => ({\r\n   type: SET_USERS,\r\n   payload: usersData,\r\n});\r\n\r\nexport const setCurrentPage = (page) => ({\r\n   type: SET_CURRENT_PAGE,\r\n   payload: page,\r\n});\r\n\r\nexport const setLoadingProgress = () => ({\r\n   type: SET_LOADING,\r\n});\r\n\r\nexport const setFollowingProgress = (data) => ({\r\n   type: SET_FOLLOWING,\r\n   payload: data,\r\n});\r\n\r\nexport const toggleFollow = (id) => ({\r\n   type: TOGGLE_FOLLOW_USER,\r\n   payload: id,\r\n});\r\n\r\nexport const fetchUsers = (currentPage, pageSize) => async (dispatch) => {\r\n   dispatch(setLoadingProgress());\r\n   const resp = await usersApi.getUsers(currentPage, pageSize);\r\n   dispatch(setUsers(resp));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod) => {\r\n   const resp = await apiMethod(id);\r\n   if (resp.resultCode === 0) {\r\n      dispatch(toggleFollow(id));\r\n   }\r\n};\r\n\r\nexport const fetchFollow = (id) => async (dispatch) => {\r\n   dispatch(setFollowingProgress({ isFetching: true, id }));\r\n   followUnfollowFlow(dispatch, id, usersApi.followUser);\r\n};\r\n\r\nexport const fetchUnfollow = (id) => async (dispatch) => {\r\n   dispatch(setFollowingProgress({ isFetching: true, id }));\r\n   followUnfollowFlow(dispatch, id, usersApi.unfollowUser);\r\n};\r\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from 'reselect';\r\n\r\nexport const selectUserPagesCount = createSelector(\r\n   (state) => state.users, \r\n   ({totalUsersCount, pageSize}) => Math.ceil(totalUsersCount / pageSize)\r\n   );\r\nexport const selectUsersData = (state) => state.users;\r\n","import React from 'react';\r\n\r\nimport sprite from '../../../assets/img/sprite.svg';\r\n\r\nfunction NavButton({ handler, disabledTrigger, icoId }) {\r\n   return (\r\n      <button className=\"pagination__btn-item pagination__block\" onClick={handler} disabled={disabledTrigger}>\r\n         <svg className=\"pagination__btn-ico\">\r\n            <use href={sprite + icoId} />\r\n         </svg>\r\n      </button>\r\n   );\r\n}\r\n\r\nexport default NavButton;\r\n","import React, { useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport NavButton from './NavButton';\r\n\r\nconst Pagination = React.memo(function Pagination({\r\n   pagesCount,\r\n   currentPage,\r\n   onPageChange,\r\n   isLoading,\r\n   visiblePartSize = 10,\r\n}) {\r\n   const [visiblePartNumber, setVisiblePartNumber] = useState(1);\r\n\r\n   const pages = [];\r\n   for (let i = 1; i <= pagesCount; i++) {\r\n      pages.push(i);\r\n   }\r\n   const visiblePartsCount = Math.ceil(pagesCount / visiblePartSize);\r\n   const leftBorder = (visiblePartNumber - 1) * visiblePartSize + 1;\r\n   const rightBorder = visiblePartNumber * visiblePartSize;\r\n\r\n   const nextPageHandler = () => {\r\n      if (currentPage >= rightBorder) {\r\n         setVisiblePartNumber(visiblePartNumber + 1);\r\n      }\r\n      onPageChange(currentPage + 1);\r\n   };\r\n\r\n   const prevPageHandler = () => {\r\n      if (currentPage <= leftBorder) {\r\n         setVisiblePartNumber(visiblePartNumber - 1);\r\n      }\r\n      onPageChange(currentPage - 1);\r\n   };\r\n\r\n   const toEndHandler = () => {\r\n      setVisiblePartNumber(visiblePartsCount);\r\n      onPageChange((visiblePartsCount - 1) * visiblePartSize + 1);\r\n   };\r\n\r\n   const toStartHandler = () => {\r\n      setVisiblePartNumber(1);\r\n      onPageChange(1);\r\n   };\r\n\r\n   const goToPageHandler = ({ currentPage }, { resetForm }) => {\r\n      const currentPartNumber = Math.ceil(currentPage / visiblePartSize);\r\n      if (currentPage >= 1 && currentPartNumber <= visiblePartsCount) {\r\n         setVisiblePartNumber(currentPartNumber);\r\n         onPageChange(currentPage);\r\n         resetForm();\r\n      }\r\n   };\r\n\r\n   return (\r\n      <ul className=\"pagination\">\r\n         {visiblePartNumber > 1 && (\r\n            <div className=\"pagination__btn-group\">\r\n               <NavButton handler={toStartHandler} disabledTrigger={isLoading} icoId=\"#double-arrow\" />\r\n               <NavButton handler={prevPageHandler} disabledTrigger={isLoading} icoId=\"#arrow\" />\r\n            </div>\r\n         )}\r\n         {pages\r\n            .filter((page) => page >= leftBorder && page <= rightBorder)\r\n            .map((page) => {\r\n               return (\r\n                  <li\r\n                     key={page}\r\n                     className={classNames('pagination__item', 'pagination__block', {\r\n                        active: currentPage === page,\r\n                     })}\r\n                     onClick={() => onPageChange(page)}\r\n                  >\r\n                     {page}\r\n                  </li>\r\n               );\r\n            })}\r\n         {visiblePartsCount > visiblePartNumber && (\r\n            <div className=\"pagination__btn-group\">\r\n               <NavButton handler={toEndHandler} disabledTrigger={isLoading} icoId=\"#double-arrow\" />\r\n               <NavButton handler={nextPageHandler} disabledTrigger={isLoading} icoId=\"#arrow\" />\r\n            </div>\r\n         )}\r\n         {pages.length > 10 && (\r\n            <Formik\r\n               initialValues={{\r\n                  currentPage: '',\r\n               }}\r\n               onSubmit={(values, { resetForm }) => goToPageHandler(values, { resetForm })}\r\n            >\r\n               {({ values }) => (\r\n                  <Form className=\"pagination__form\">\r\n                     <Field\r\n                        type=\"number\"\r\n                        name=\"currentPage\"\r\n                        className=\"pagination__form-input\"\r\n                        value={values.currentPage}\r\n                     />\r\n                     <button className=\"pagination__form-btn\" disabled={isLoading} type=\"submit\">\r\n                        Перейти\r\n                     </button>\r\n                  </Form>\r\n               )}\r\n            </Formik>\r\n         )}\r\n      </ul>\r\n   );\r\n});\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\n\r\nimport photoHolder from '../../assets/img/user.png';\r\n\r\nconst User = React.memo(function User({\r\n   id,\r\n   name,\r\n   photos,\r\n   followed,\r\n   followingInProgress,\r\n   onClickUnfollow,\r\n   onClickFollow,\r\n}) {\r\n   return (\r\n      <li className=\"users__item block\" key={id}>\r\n         <Link to={`/profile/${id}`}>\r\n            <span className=\"users__item-photo avatar\">\r\n               <img src={photos.large || photoHolder} alt={name} />\r\n            </span>\r\n            <span className=\"users__item-name\">{name}</span>\r\n         </Link>\r\n         <button\r\n            className={classNames('btn', { 'btn--unfollow': followed, 'btn--follow': !followed })}\r\n            onClick={followed ? () => onClickUnfollow(id) : () => onClickFollow(id)}\r\n            disabled={followingInProgress.some((item) => item === id)}\r\n         >\r\n            {followed ? 'Вы подписаны' : 'Подписаться'}\r\n         </button>\r\n      </li>\r\n   );\r\n});\r\n\r\nexport default User;\r\n","import React, { useEffect } from 'react';\r\nimport { compose } from 'redux';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport withAuthRedirect from '../hoc/withAuthRedirect';\r\nimport Loader from '../common/Loader/Loader';\r\nimport { fetchUsers, setCurrentPage, fetchFollow, fetchUnfollow } from '../../actions/users';\r\nimport { selectUserPagesCount, selectUsersData } from '../../selectors/usersSelectors';\r\nimport Pagination from '../common/Pagination/Pagination';\r\nimport User from './User';\r\n\r\nfunction Users() {\r\n   const dispatch = useDispatch();\r\n   const { items, pageSize, currentPage, isLoading, followingInProgress } = useSelector(selectUsersData);\r\n   const pagesCount = useSelector(selectUserPagesCount);\r\n   useEffect(() => {\r\n      dispatch(fetchUsers(currentPage, pageSize));\r\n   }, [currentPage]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n   const onPageChange = (page) => {\r\n      dispatch(setCurrentPage(page));\r\n   };\r\n\r\n   const onClickFollow = (id) => {\r\n      dispatch(fetchFollow(id));\r\n   };\r\n   const onClickUnfollow = (id) => {\r\n      dispatch(fetchUnfollow(id));\r\n   };\r\n\r\n   return (\r\n      <div className=\"users\">\r\n         {isLoading && <Loader />}\r\n         <Pagination\r\n            pagesCount={pagesCount}\r\n            currentPage={currentPage}\r\n            onPageChange={onPageChange}\r\n            isLoading={isLoading}\r\n            visiblePagesSize={10}\r\n         />\r\n         <ul className=\"users__list\">\r\n            {items.map(({ id, name, followed, photos }) => {\r\n               return (\r\n                  <User\r\n                     key={id}\r\n                     id={id}\r\n                     name={name}\r\n                     photos={photos}\r\n                     followed={followed}\r\n                     followingInProgress={followingInProgress}\r\n                     onClickUnfollow={onClickUnfollow}\r\n                     onClickFollow={onClickFollow}\r\n                  />\r\n               );\r\n            })}\r\n         </ul>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default compose(withAuthRedirect)(Users);\r\n"],"sourceRoot":""}